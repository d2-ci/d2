{"version":3,"sources":["../../../src/datastore/__tests__/UserDataStore.spec.js"],"names":["jest","mock","describe","namespaces","keys","userDataStore","apiMock","beforeEach","MockApi","UserDataStore","afterEach","mockReset","it","get","mockReturnValueOnce","Promise","resolve","then","namespace","expect","toBeInstanceOf","UserDataStoreNamespace","getKeys","res","toEqual","toHaveBeenCalledTimes","not","toHaveBeenCalled","catch","e","message","toBe","err","httpStatusCode","reject","toThrow","rejects","toBeDefined","error","assertions","Error","toMatch","join","done","getAll","namespaceRes","delete","namespaceDel","toBeCalledWith","getUserDataStore","create","toHaveLength","has","hasNamespace"],"mappings":"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","sourcesContent":["import UserDataStore from '../../datastore/UserDataStore';\nimport UserDataStoreNamespace from '../../datastore/UserDataStoreNamespace';\nimport MockApi from '../../api/Api';\n\njest.mock('../../api/Api');\n\ndescribe('UserDataStore', () => {\n    const namespaces = ['DHIS', 'History', 'social-media-video'];\n    const keys = ['key1', 'a key', 'aowelfkxuw'];\n    let userDataStore;\n    let apiMock;\n\n    beforeEach(() => {\n        apiMock = new MockApi();\n        userDataStore = new UserDataStore(apiMock);\n    });\n\n    afterEach(() => {\n        MockApi.mockReset();\n    });\n\n    describe('get()', () => {\n        it('should return an instance of UserDatastoreNamespace', () => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve(namespaces));\n\n            return userDataStore.get('DHIS').then((namespace) => {\n                expect(namespace).toBeInstanceOf(UserDataStoreNamespace);\n            });\n        });\n\n\n        it('should return a UserDatastoreNamespace with keys if it exists', () => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve(namespaces))\n                .mockReturnValueOnce(Promise.resolve(keys));\n\n            return userDataStore.get('DHIS').then(namespace => namespace.getKeys().then((res) => {\n                expect(res).toEqual(keys);\n                expect(apiMock.get).toHaveBeenCalledTimes(2);\n            }));\n        });\n\n        it('should not request API if autoload is false', () => userDataStore.get('DHIS', false).then((res) => {\n            expect(res).toBeInstanceOf(UserDataStoreNamespace);\n            expect(apiMock.get).not.toHaveBeenCalled();\n        }));\n\n        it('should throw an error when no response', () => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve(null));\n\n            return userDataStore.get('DHIS').catch((e) => {\n                expect(e.message).toBe('The requested namespace has no keys or does not exist.');\n            });\n        });\n\n        it('should throw an error if namespace does not exist on server', () => {\n            const err = { httpStatusCode: 404 };\n            apiMock.get.mockReturnValueOnce(Promise.reject(err));\n\n            return expect(userDataStore.get('DHIS').catch((e) => {\n                expect(e).toThrow();\n            })).rejects.toBeDefined();\n        });\n\n        it('should throw when error is not 404', () => {\n            const error = { httpStatusCode: 500 };\n            apiMock.get.mockReturnValueOnce(Promise.reject(error));\n\n            return userDataStore.get('DHIS')\n                .catch((e) => {\n                    expect(e).toEqual(error);\n                });\n        });\n\n        it('should throw an error if response is an empty array', () => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve([]));\n            expect.assertions(1);\n            return userDataStore.get('namespace').then(() => {\n                throw new Error('this hould have failed');\n            }).catch((e) => {\n                expect(e.message).toMatch(/does not exist/);\n            });\n        });\n\n        describe('for an invalid namespace', () => {\n            beforeEach(() => {\n                apiMock.get.mockReturnValueOnce(Promise.reject([\n                    '{',\n                    '\"httpStatus\":\"Not Found\",',\n                    '\"httpStatusCode\":404,',\n                    '\"status\":\"ERROR\",',\n                    '\"message\":\"The namespace \\'not-my-namespace\\' was not found.\"',\n                    '}',\n                ].join('')));\n            });\n\n            it('should throw an error', (done) => {\n                return userDataStore.get('not-my-namespace').then(() => {\n                    throw new Error('this should have failed');\n                }).catch(() => done());\n            });\n        });\n    });\n\n    describe('getAll()', () => {\n        it('should return an array of namespaces', (done) => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve(namespaces));\n            userDataStore\n                .getAll()\n                .then((namespaceRes) => {\n                    expect(namespaces).toEqual(namespaceRes);\n                    done();\n                })\n                .catch(done);\n        });\n\n        it('should throw an error when there is no response', (done) => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve(null));\n\n            return userDataStore.getAll()\n                .then(done)\n                .catch((namespaceRes) => {\n                    expect(namespaceRes.message).toBe('No namespaces exist.');\n                    done();\n                });\n        });\n    });\n\n    describe('delete()', () => {\n        beforeEach(() => {\n            apiMock.delete.mockReturnValueOnce(Promise.resolve());\n        });\n\n        it('should call the api with correct url', () => {\n            const namespaceDel = 'DHIS';\n\n            return userDataStore.delete(namespaceDel).then(() => {\n                expect(apiMock.delete).toBeCalledWith(`userDataStore/${namespaceDel}`);\n            });\n        });\n    });\n\n    describe('getUserDataStore', () => {\n        it('should return an instance of UserDataStore', () => {\n            expect(UserDataStore.getUserDataStore()).toBeInstanceOf(UserDataStore);\n        });\n\n        it('should return the same object when called twice', () => {\n            expect(UserDataStore.getUserDataStore()).toBe(UserDataStore.getUserDataStore());\n        });\n    });\n\n    describe('create()', () => {\n        it('should return an instance of UserDataStoreNamespace if namespace do not exist', () => {\n            const error = { httpStatusCode: 404 };\n            apiMock.get.mockReturnValueOnce(Promise.reject(error));\n\n            return userDataStore.create('DHIS').then((namespace) => {\n                expect(namespace).toBeInstanceOf(UserDataStoreNamespace);\n                expect(namespace.keys).toHaveLength(0);\n            });\n        });\n\n        it('should return an error if namespace exists', () => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve(keys));\n\n            return userDataStore.get('DHIS').then((namespace) => {\n                expect(namespace).toBeInstanceOf(UserDataStoreNamespace);\n            });\n        });\n    });\n\n    describe('has', () => {\n        it('should resolve with true if namespace exists', async () => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve(keys));\n            const hasNamespace = await userDataStore.has('DHIS');\n            expect(hasNamespace).toBe(true);\n        });\n\n        it('should resolve with false if namespace does not exists (404 from server)', async () => {\n            const err = { httpStatusCode: 404 };\n            apiMock.get.mockReturnValueOnce(Promise.reject(err));\n            const hasNamespace = await userDataStore.has('arandomnamespace');\n            expect(hasNamespace).toBe(false);\n        });\n\n        it('should resolve with false if namespace does not exists (empty array)', async () => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve([]));\n            const hasNamespace = await userDataStore.has('arandomnamespace');\n            expect(hasNamespace).toBe(false);\n        });\n\n        it('should throw an error if resolved response is not an array', async () => {\n            apiMock.get.mockReturnValueOnce(Promise.resolve({}));\n            await expect(userDataStore.has('arandomnamespace')).rejects.toBeDefined();\n        });\n\n        it('should throw an error if rejected response is not 404 or empty array ', async () => {\n            const err = { httpStatusCode: 500 };\n            apiMock.get.mockReturnValueOnce(Promise.resolve(err));\n            await expect(userDataStore.has('arandomnamespace')).rejects.toBeDefined();\n        });\n    });\n});\n"],"file":"UserDataStore.spec.js"}