{"version":3,"sources":["../../../src/period/generators/weekly.js"],"names":["generateWeeklyPeriodsForYear","year","periods","weeksInYear","startDate","week","endDate","period","name","id","push"],"mappings":";;;;;QAiBgBA,4B,GAAAA,4B;;AAjBhB;;AAUA;;;;;;;AAOO,SAASA,4BAAT,GAA+D;AAAA,QAAzBC,IAAyB,uEAAlB,8BAAkB;AAAE;AACpE,2CAAyBA,IAAzB;;AAEA,QAAMC,UAAU,EAAhB;AACA,QAAMC,cAAc,8BAAgBF,IAAhB,IAAwB,EAAxB,GAA6B,EAAjD;AACA,QAAIG,YAAY,+CAAiCH,IAAjC,CAAhB;;AAEA,SAAK,IAAII,OAAO,CAAhB,EAAmBA,QAAQF,WAA3B,EAAwCE,QAAQ,CAAhD,EAAmD;AAC/C,YAAMC,UAAU,sDAAwCF,SAAxC,CAAhB;;AAEA,YAAMG,SAAS;AACXH,uBAAW,8BAAgBA,SAAhB,CADA;AAEXE,qBAAS,8BAAgBA,OAAhB,CAFE;AAGXE,wBAAUH,IAAV,WAAoB,8BAAgBD,SAAhB,CAApB,WAAoD,8BAAgBE,OAAhB,CAHzC;AAIXG,gBAAOR,IAAP,SAAeI;AAJJ,SAAf;;AAOAH,gBAAQQ,IAAR,CAAaH,MAAb;;AAEA;AACAH,oBAAY,sBAAQ,CAAR,EAAWA,SAAX,CAAZ;AACH;;AAED,WAAOF,OAAP;AACH","file":"weekly.js","sourcesContent":["import {\n    validateIfValueIsInteger,\n    formatAsISODate,\n    getCurrentYear,\n    addDays,\n    getFirstDayInFirstISOWeekForYear,\n    getLastDayOfTheWeekForFirstDayOfTheWeek,\n    is53WeekISOYear,\n} from '../helpers';\n\n/**\n * Generate weekly periods types\n *\n * @private\n *\n * @param {Integer} [year] The year to generate the weeks for.\n */\nexport function generateWeeklyPeriodsForYear(year = getCurrentYear()) { // eslint-disable-line import/prefer-default-export\n    validateIfValueIsInteger(year);\n\n    const periods = [];\n    const weeksInYear = is53WeekISOYear(year) ? 53 : 52;\n    let startDate = getFirstDayInFirstISOWeekForYear(year);\n\n    for (let week = 1; week <= weeksInYear; week += 1) {\n        const endDate = getLastDayOfTheWeekForFirstDayOfTheWeek(startDate);\n\n        const period = {\n            startDate: formatAsISODate(startDate),\n            endDate: formatAsISODate(endDate),\n            name: `W${week} - ${formatAsISODate(startDate)} - ${formatAsISODate(endDate)}`,\n            id: `${year}W${week}`,\n        };\n\n        periods.push(period);\n\n        // Go to the start of the next week +7 days\n        startDate = addDays(7, startDate);\n    }\n\n    return periods;\n}\n"]}